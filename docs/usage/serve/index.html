
    <!DOCTYPE html>
    <html lang="en">
      <head>
        <meta charset="UTF-8" />
        <title>bok</title>
        <meta name="description" content="Build, serve, and live reload your site during development.">
        <link rel="canonical" href="https://github.com/alajmo/bok/usage/serve/">
        <meta property="og:title" content="serve">
        <meta property="og:description" content="Build, serve, and live reload your site during development.">
        <meta property="og:url" content="https://github.com/alajmo/bok/usage/serve/">
        <meta property="og:type" content="article">
        <meta property="og:site_name" content="bok">
        <meta name="twitter:card" content="summary_large_image">
        <meta name="twitter:title" content="serve">
        <meta name="twitter:description" content="Build, serve, and live reload your site during development.">

        <link rel="icon" href="/bok/assets/img/ico/favicon.ico" />
        <link rel="apple-touch-icon-precomposed" href="/bok/assets/img/ico/favicon.ico" />
        <meta name="msapplication-TileImage" content="/bok/assets/img/ico/favicon.ico" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />

        <link rel="stylesheet" type="text/css" href="/bok/assets/css/reset.css" />
        <link rel="stylesheet" type="text/css" href="/bok/assets/fonts/fonts.css" />
        <link rel="stylesheet" type="text/css" href="/bok/assets/css/style.css" />
        <style>::view-transition-old(root), ::view-transition-new(root) { animation: none; }</style>
      </head>

      <body>
        <div class="book">
          
    <script type="text/javascript">
      const html = document.querySelector('html');
      const showSidebar = window.sessionStorage.getItem('showSidebar');
      if (showSidebar !== null) {
        html.setAttribute('data-show-sidebar', showSidebar);
      }

      const savedTheme = window.localStorage.getItem('theme');
      if (savedTheme) {
        html.setAttribute('data-theme', savedTheme);
      } else if (window.matchMedia('(prefers-color-scheme: dark)').matches) {
        html.setAttribute('data-theme', 'dark');
      }

      const focusMode = window.sessionStorage.getItem('focusMode');
      if (focusMode === 'true') {
        html.setAttribute('data-focus-mode', 'true');
      }
    </script>

    <aside id="sidebar" class="sidebar">
      <ol class="toc"><li class="part-title">bok</li><li><a class=""  href="/bok/">Introduction</a></li>
      <li class="chapter-item">
        <strong>1.</strong>
        &nbsp;
        <a class=""
           href="/bok/getting-started">Getting Started</a>
      </li>
    <li class="spacer"></li><li class="part-title">Reference</li>
      <li class="chapter-item">
        <strong>2.</strong>
        &nbsp;
        <a class=""
           href="/bok/usage/usage">CLI Commands</a>
      </li>
    
        <li>
          <ol class="section">
            
      <li class="chapter-item">
        <strong>2.1.</strong>
        &nbsp;
        <a class=""
           href="/bok/usage/init">init</a>
      </li>
    
      <li class="chapter-item">
        <strong>2.2.</strong>
        &nbsp;
        <a class=""
           href="/bok/usage/build">build</a>
      </li>
    
      <li class="chapter-item">
        <strong>2.3.</strong>
        &nbsp;
        <a class=""
           href="/bok/usage/watch">watch</a>
      </li>
    
      <li class="chapter-item">
        <strong>2.4.</strong>
        &nbsp;
        <a class="active"
           href="/bok/usage/serve">serve</a>
      </li>
    
      <li class="chapter-item">
        <strong>2.5.</strong>
        &nbsp;
        <a class=""
           href="/bok/usage/clean">clean</a>
      </li>
    
          </ol>
        </li>
      
      <li class="chapter-item">
        <strong>3.</strong>
        &nbsp;
        <a class=""
           href="/bok/configuration/configuration">Configuration</a>
      </li>
    
        <li>
          <ol class="section">
            
      <li class="chapter-item">
        <strong>3.1.</strong>
        &nbsp;
        <a class=""
           href="/bok/configuration/site-config">Site Config</a>
      </li>
    
      <li class="chapter-item">
        <strong>3.2.</strong>
        &nbsp;
        <a class=""
           href="/bok/configuration/toc-format">TOC Format</a>
      </li>
    
      <li class="chapter-item">
        <strong>3.3.</strong>
        &nbsp;
        <a class=""
           href="/bok/configuration/front-matter">Front Matter</a>
      </li>
    
          </ol>
        </li>
      
      <li class="chapter-item">
        <strong>4.</strong>
        &nbsp;
        <a class=""
           href="/bok/themes/themes">Themes</a>
      </li>
    
        <li>
          <ol class="section">
            
      <li class="chapter-item">
        <strong>4.1.</strong>
        &nbsp;
        <a class=""
           href="/bok/themes/book-theme">Book Theme</a>
      </li>
    
      <li class="chapter-item">
        <strong>4.2.</strong>
        &nbsp;
        <a class=""
           href="/bok/themes/creating-themes">Creating Themes</a>
      </li>
    
          </ol>
        </li>
      <li class="spacer"></li><li class="part-title">Development</li>
      <li class="chapter-item">
        <strong>5.</strong>
        &nbsp;
        <a class=""
           href="/bok/contributing">Contributing</a>
      </li>
    </ol>
      <div class="sidebar-resize-handle"></div>
    </aside>

    <main id="content" class="content">
      <div class="menu">
        <div class="menu-left">
          <button title="Toggle sidebar"
                  type="button"
                  class="icon-button"
                  onclick="sidebar.toggle();">
            <img
              class="menu-icon"
              src="/bok/assets/img/svg/menu.svg"
              alt="menu"
              width="auto"
              height="20"
            />
          </button>
        </div>

        
        <div class="menu-center">
          <button type="button" class="menu-title" onclick="scrollToTop();">bok</button>
        </div>
        

        <div class="menu-right">
          <button title="Toggle theme" type="button" class="icon-button theme-toggle" onclick="toggleTheme();">
            <svg class="menu-icon theme-icon-light" width="20" height="20" viewBox="0 0 24 24" fill="currentColor">
              <path d="M12 3a1 1 0 0 1 1 1v1a1 1 0 1 1-2 0V4a1 1 0 0 1 1-1zm0 15a1 1 0 0 1 1 1v1a1 1 0 1 1-2 0v-1a1 1 0 0 1 1-1zm9-6a1 1 0 0 1-1 1h-1a1 1 0 1 1 0-2h1a1 1 0 0 1 1 1zM5 12a1 1 0 0 1-1 1H3a1 1 0 1 1 0-2h1a1 1 0 0 1 1 1zm14.07-5.66a1 1 0 0 1 0 1.41l-.71.71a1 1 0 1 1-1.41-1.41l.71-.71a1 1 0 0 1 1.41 0zM7.05 17.66a1 1 0 0 1 0 1.41l-.71.71a1 1 0 1 1-1.41-1.41l.71-.71a1 1 0 0 1 1.41 0zm11.9 1.41a1 1 0 0 1-1.41 0l-.71-.71a1 1 0 1 1 1.41-1.41l.71.71a1 1 0 0 1 0 1.41zM7.05 6.34a1 1 0 0 1-1.41 0l-.71-.71a1 1 0 0 1 1.41-1.41l.71.71a1 1 0 0 1 0 1.41zM12 8a4 4 0 1 0 0 8 4 4 0 0 0 0-8z"/>
            </svg>
            <svg class="menu-icon theme-icon-dark" width="20" height="20" viewBox="0 0 24 24" fill="currentColor">
              <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"/>
            </svg>
          </button>
          <button title="Toggle focus mode" type="button" class="icon-button focus-toggle" onclick="toggleFocusMode();">
            <svg class="menu-icon" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <circle cx="12" cy="12" r="3"/>
              <path d="M12 5c-7 0-10 7-10 7s3 7 10 7 10-7 10-7-3-7-10-7z"/>
            </svg>
          </button>
          <a href="/bok/print.html" title="Print all pages" class="icon-button">
            <svg class="menu-icon" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <path d="M6 9V2h12v7M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2M6 14h12v8H6z"/>
            </svg>
          </a>
          
          <a href="https://github.com/alajmo/bok" target="_blank" rel="noopener noreferrer" title="GitHub" class="icon-button">
            <svg class="menu-icon" width="20" height="20" viewBox="0 0 24 24" fill="currentColor">
              <path d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"/>
            </svg>
          </a>
          
        </div>
      </div>

      <div class="page-wrapper">
        <div class="page">
          
    <a href="/bok/usage/watch" id="page-nav-prev" class="page-nav page-nav-prev">
      <svg class="page-nav-icon" fill="none" viewBox="0 0 24 24" height="40" width="40" xmlns="http://www.w3.org/2000/svg">
        <path d="M14.7071 5.29289C15.0976 5.68342 15.0976 6.31658 14.7071 6.70711L9.41421 12L14.7071 17.2929C15.0976 17.6834 15.0976 18.3166 14.7071 18.7071C14.3166 19.0976 13.6834 19.0976 13.2929 18.7071L7.29289 12.7071C6.90237 12.3166 6.90237 11.6834 7.29289 11.2929L13.2929 5.29289C13.6834 4.90237 14.3166 4.90237 14.7071 5.29289Z" fill="currentColor"></path>
      </svg>
    </a>
  

          <div class="page-content">
            <h1 id="serve" tabindex="-1">serve</h1>
<p>Build, serve, and live reload your site during development.</p>
<h2 id="usage" tabindex="-1">Usage</h2>
<pre><code class="language-bash">bok serve [options] [config]
</code></pre>
<h2 id="arguments" tabindex="-1">Arguments</h2>
<table>
<thead>
<tr>
<th>Argument</th>
<th>Description</th>
<th>Default</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>config</code></td>
<td>Path to config file</td>
<td><code>config.ts</code></td>
</tr>
</tbody>
</table>
<h2 id="options" tabindex="-1">Options</h2>
<table>
<thead>
<tr>
<th>Option</th>
<th>Description</th>
<th>Default</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>--port &lt;port&gt;</code></td>
<td>HTTP server port</td>
<td><code>5000</code></td>
</tr>
<tr>
<td><code>--ws-port &lt;port&gt;</code></td>
<td>WebSocket port for live reload</td>
<td><code>5001</code></td>
</tr>
<tr>
<td><code>--reload</code></td>
<td>Enable live reload</td>
<td><code>true</code></td>
</tr>
</tbody>
</table>
<h2 id="what-it-does" tabindex="-1">What It Does</h2>
<ol>
<li>Performs an initial <a href="build.md">build</a></li>
<li>Starts an HTTP server to serve your site</li>
<li>Starts a WebSocket server for live reload</li>
<li>Watches for file changes and rebuilds</li>
<li>Notifies the browser to reload after rebuilds</li>
</ol>
<h2 id="live-reload" tabindex="-1">Live Reload</h2>
<p>When <code>--reload</code> is enabled (default), bok:</p>
<ol>
<li>Injects a small JavaScript snippet into HTML pages</li>
<li>Opens a WebSocket connection to the dev server</li>
<li>Listens for build completion events</li>
<li>Automatically reloads the page when content changes</li>
</ol>
<h2 id="server-details" tabindex="-1">Server Details</h2>
<p>The HTTP server:</p>
<ul>
<li>Serves static files from the output directory</li>
<li>Returns <code>index.html</code> for directory requests</li>
<li>Serves <code>404/index.html</code> for missing pages (if it exists)</li>
<li>Logs all requests to the console</li>
</ul>
<h2 id="examples" tabindex="-1">Examples</h2>
<pre><code class="language-bash"># Start with defaults (port 5000)
bok serve config.ts

# Custom HTTP port
bok serve --port 3000 config.ts

# Custom WebSocket port
bok serve --ws-port 3001 config.ts

# Disable live reload
bok serve --reload=false config.ts
</code></pre>
<h2 id="configuration" tabindex="-1">Configuration</h2>
<p>You can also set serve options in your config file:</p>
<pre><code class="language-typescript">export default {
  serve: {
    reload: true,
    port: 5000,
    wsPort: 5001,
  },
};
</code></pre>
<p>Command-line options override config file settings.</p>

          </div>

          
    <a href="/bok/usage/clean" id="page-nav-next" class="page-nav page-nav-next">
      <svg class="page-nav-icon" fill="none" viewBox="0 0 24 24" height="40" width="40" xmlns="http://www.w3.org/2000/svg">
        <path d="M9.29289 18.7071C8.90237 18.3166 8.90237 17.6834 9.29289 17.2929L14.5858 12L9.29289 6.70711C8.90237 6.31658 8.90237 5.68342 9.29289 5.29289C9.68342 4.90237 10.3166 4.90237 10.7071 5.29289L16.7071 11.2929C17.0976 11.6834 17.0976 12.3166 16.7071 12.7071L10.7071 18.7071C10.3166 19.0976 9.68342 19.0976 9.29289 18.7071Z" fill="currentColor"></path>
      </svg>
    </a>
  
        </div>

        <aside class="right-toc"><nav class="right-toc-nav">
    <h4 class="right-toc-title">On this page</h4>
    <ul class="right-toc-list"><li><a href="#usage">Usage</a></li><li><a href="#arguments">Arguments</a></li><li><a href="#options">Options</a></li><li><a href="#what-it-does">What It Does</a></li><li><a href="#live-reload">Live Reload</a></li><li><a href="#server-details">Server Details</a></li><li><a href="#examples">Examples</a></li><li><a href="#configuration">Configuration</a></li></ul></nav></aside>
      </div>
    </main>
  
        </div>

        <script defer src="/bok/assets/js/index.js"></script>
        <script defer src="/bok/assets/js/prism.min.js"></script>
      </body>
    </html>
  