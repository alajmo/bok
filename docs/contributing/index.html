
    <!DOCTYPE html>
    <html lang="en">
      <head>
        <meta charset="UTF-8" />
        <title>bok</title>
        <meta name="description" content="Contributions to bok are welcome!">
        <link rel="canonical" href="https://github.com/alajmo/bok/contributing/">
        <meta property="og:title" content="Contributing">
        <meta property="og:description" content="Contributions to bok are welcome!">
        <meta property="og:url" content="https://github.com/alajmo/bok/contributing/">
        <meta property="og:type" content="article">
        <meta property="og:site_name" content="bok">
        <meta name="twitter:card" content="summary_large_image">
        <meta name="twitter:title" content="Contributing">
        <meta name="twitter:description" content="Contributions to bok are welcome!">

        <link rel="icon" href="/bok/assets/img/ico/favicon.ico" />
        <link rel="apple-touch-icon-precomposed" href="/bok/assets/img/ico/favicon.ico" />
        <meta name="msapplication-TileImage" content="/bok/assets/img/ico/favicon.ico" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />

        <link rel="stylesheet" type="text/css" href="/bok/assets/css/reset.css" />
        <link rel="stylesheet" type="text/css" href="/bok/assets/fonts/fonts.css" />
        <link rel="stylesheet" type="text/css" href="/bok/assets/css/style.css" />
        <style>::view-transition-old(root), ::view-transition-new(root) { animation: none; }</style>
      </head>

      <body>
        <div class="book">
          
    <script type="text/javascript">
      const html = document.querySelector('html');
      const showSidebar = window.sessionStorage.getItem('showSidebar');
      if (showSidebar !== null) {
        html.setAttribute('data-show-sidebar', showSidebar);
      }

      const savedTheme = window.localStorage.getItem('theme');
      if (savedTheme) {
        html.setAttribute('data-theme', savedTheme);
      } else if (window.matchMedia('(prefers-color-scheme: dark)').matches) {
        html.setAttribute('data-theme', 'dark');
      }

      const focusMode = window.sessionStorage.getItem('focusMode');
      if (focusMode === 'true') {
        html.setAttribute('data-focus-mode', 'true');
      }
    </script>

    <aside id="sidebar" class="sidebar">
      <ol class="toc"><li class="part-title">bok</li><li><a class=""  href="/bok/">Introduction</a></li>
      <li class="chapter-item">
        <strong>1.</strong>
        &nbsp;
        <a class=""
           href="/bok/getting-started">Getting Started</a>
      </li>
    <li class="spacer"></li><li class="part-title">Reference</li>
      <li class="chapter-item">
        <strong>2.</strong>
        &nbsp;
        <a class=""
           href="/bok/usage/usage">CLI Commands</a>
      </li>
    
        <li>
          <ol class="section">
            
      <li class="chapter-item">
        <strong>2.1.</strong>
        &nbsp;
        <a class=""
           href="/bok/usage/init">init</a>
      </li>
    
      <li class="chapter-item">
        <strong>2.2.</strong>
        &nbsp;
        <a class=""
           href="/bok/usage/build">build</a>
      </li>
    
      <li class="chapter-item">
        <strong>2.3.</strong>
        &nbsp;
        <a class=""
           href="/bok/usage/watch">watch</a>
      </li>
    
      <li class="chapter-item">
        <strong>2.4.</strong>
        &nbsp;
        <a class=""
           href="/bok/usage/serve">serve</a>
      </li>
    
      <li class="chapter-item">
        <strong>2.5.</strong>
        &nbsp;
        <a class=""
           href="/bok/usage/clean">clean</a>
      </li>
    
          </ol>
        </li>
      
      <li class="chapter-item">
        <strong>3.</strong>
        &nbsp;
        <a class=""
           href="/bok/configuration/configuration">Configuration</a>
      </li>
    
        <li>
          <ol class="section">
            
      <li class="chapter-item">
        <strong>3.1.</strong>
        &nbsp;
        <a class=""
           href="/bok/configuration/site-config">Site Config</a>
      </li>
    
      <li class="chapter-item">
        <strong>3.2.</strong>
        &nbsp;
        <a class=""
           href="/bok/configuration/toc-format">TOC Format</a>
      </li>
    
      <li class="chapter-item">
        <strong>3.3.</strong>
        &nbsp;
        <a class=""
           href="/bok/configuration/front-matter">Front Matter</a>
      </li>
    
          </ol>
        </li>
      
      <li class="chapter-item">
        <strong>4.</strong>
        &nbsp;
        <a class=""
           href="/bok/themes/themes">Themes</a>
      </li>
    
        <li>
          <ol class="section">
            
      <li class="chapter-item">
        <strong>4.1.</strong>
        &nbsp;
        <a class=""
           href="/bok/themes/book-theme">Book Theme</a>
      </li>
    
      <li class="chapter-item">
        <strong>4.2.</strong>
        &nbsp;
        <a class=""
           href="/bok/themes/creating-themes">Creating Themes</a>
      </li>
    
          </ol>
        </li>
      <li class="spacer"></li><li class="part-title">Development</li>
      <li class="chapter-item">
        <strong>5.</strong>
        &nbsp;
        <a class="active"
           href="/bok/contributing">Contributing</a>
      </li>
    </ol>
      <div class="sidebar-resize-handle"></div>
    </aside>

    <main id="content" class="content">
      <div class="menu">
        <div class="menu-left">
          <button title="Toggle sidebar"
                  type="button"
                  class="icon-button"
                  onclick="sidebar.toggle();">
            <img
              class="menu-icon"
              src="/bok/assets/img/svg/menu.svg"
              alt="menu"
              width="auto"
              height="20"
            />
          </button>
        </div>

        
        <div class="menu-center">
          <button type="button" class="menu-title" onclick="scrollToTop();">bok</button>
        </div>
        

        <div class="menu-right">
          <button title="Toggle theme" type="button" class="icon-button theme-toggle" onclick="toggleTheme();">
            <svg class="menu-icon theme-icon-light" width="20" height="20" viewBox="0 0 24 24" fill="currentColor">
              <path d="M12 3a1 1 0 0 1 1 1v1a1 1 0 1 1-2 0V4a1 1 0 0 1 1-1zm0 15a1 1 0 0 1 1 1v1a1 1 0 1 1-2 0v-1a1 1 0 0 1 1-1zm9-6a1 1 0 0 1-1 1h-1a1 1 0 1 1 0-2h1a1 1 0 0 1 1 1zM5 12a1 1 0 0 1-1 1H3a1 1 0 1 1 0-2h1a1 1 0 0 1 1 1zm14.07-5.66a1 1 0 0 1 0 1.41l-.71.71a1 1 0 1 1-1.41-1.41l.71-.71a1 1 0 0 1 1.41 0zM7.05 17.66a1 1 0 0 1 0 1.41l-.71.71a1 1 0 1 1-1.41-1.41l.71-.71a1 1 0 0 1 1.41 0zm11.9 1.41a1 1 0 0 1-1.41 0l-.71-.71a1 1 0 1 1 1.41-1.41l.71.71a1 1 0 0 1 0 1.41zM7.05 6.34a1 1 0 0 1-1.41 0l-.71-.71a1 1 0 0 1 1.41-1.41l.71.71a1 1 0 0 1 0 1.41zM12 8a4 4 0 1 0 0 8 4 4 0 0 0 0-8z"/>
            </svg>
            <svg class="menu-icon theme-icon-dark" width="20" height="20" viewBox="0 0 24 24" fill="currentColor">
              <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"/>
            </svg>
          </button>
          <button title="Toggle focus mode" type="button" class="icon-button focus-toggle" onclick="toggleFocusMode();">
            <svg class="menu-icon" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <circle cx="12" cy="12" r="3"/>
              <path d="M12 5c-7 0-10 7-10 7s3 7 10 7 10-7 10-7-3-7-10-7z"/>
            </svg>
          </button>
          <a href="/bok/print.html" title="Print all pages" class="icon-button">
            <svg class="menu-icon" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <path d="M6 9V2h12v7M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2M6 14h12v8H6z"/>
            </svg>
          </a>
          
          <a href="https://github.com/alajmo/bok" target="_blank" rel="noopener noreferrer" title="GitHub" class="icon-button">
            <svg class="menu-icon" width="20" height="20" viewBox="0 0 24 24" fill="currentColor">
              <path d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"/>
            </svg>
          </a>
          
        </div>
      </div>

      <div class="page-wrapper">
        <div class="page">
          
    <a href="/bok/themes/creating-themes" id="page-nav-prev" class="page-nav page-nav-prev">
      <svg class="page-nav-icon" fill="none" viewBox="0 0 24 24" height="40" width="40" xmlns="http://www.w3.org/2000/svg">
        <path d="M14.7071 5.29289C15.0976 5.68342 15.0976 6.31658 14.7071 6.70711L9.41421 12L14.7071 17.2929C15.0976 17.6834 15.0976 18.3166 14.7071 18.7071C14.3166 19.0976 13.6834 19.0976 13.2929 18.7071L7.29289 12.7071C6.90237 12.3166 6.90237 11.6834 7.29289 11.2929L13.2929 5.29289C13.6834 4.90237 14.3166 4.90237 14.7071 5.29289Z" fill="currentColor"></path>
      </svg>
    </a>
  

          <div class="page-content">
            <h1 id="contributing" tabindex="-1">Contributing</h1>
<p>Contributions to bok are welcome!</p>
<h2 id="development-setup" tabindex="-1">Development Setup</h2>
<pre><code class="language-bash"># Clone the repository
git clone https://github.com/alajmo/bok
cd bok

# Install dependencies
bun install

# Run the example site
make serve-debug
</code></pre>
<h2 id="project-structure" tabindex="-1">Project Structure</h2>
<pre><code>bok/
├── mod.ts              # CLI entry point
├── deps.ts             # Centralized dependencies
├── src/
│   ├── mod.ts          # Main exports
│   ├── core/
│   │   ├── build.ts    # Build pipeline
│   │   ├── config.ts   # Configuration loading
│   │   ├── init.ts     # Site initialization
│   │   ├── server.ts   # HTTP server
│   │   ├── watch.ts    # File watching
│   │   ├── ws-server.ts # WebSocket server
│   │   └── utils.ts    # Utilities
│   └── plugins/
│       └── toc.ts      # TOC parser
├── themes/
│   ├── basic/          # Minimal theme
│   └── book/           # Documentation theme
└── examples/
    └── book/           # Example site
</code></pre>
<h2 id="key-files" tabindex="-1">Key Files</h2>
<h3 id="deps.ts" tabindex="-1">deps.ts</h3>
<p>All external dependencies are centralized here. This makes it easy to swap implementations.</p>
<h3 id="src%2Fcore%2Fbuild.ts" tabindex="-1">src/core/build.ts</h3>
<p>The main build pipeline:</p>
<ol>
<li>Clean output directory</li>
<li>Discover pages (walk/glob/toc)</li>
<li>Process each page (front matter → markdown → template)</li>
<li>Copy assets</li>
</ol>
<h3 id="src%2Fcore%2Fconfig.ts" tabindex="-1">src/core/config.ts</h3>
<p>Configuration loading and merging:</p>
<ul>
<li>Read user config</li>
<li>Apply defaults</li>
<li>Merge with theme config</li>
<li>Validate paths</li>
</ul>
<h3 id="src%2Fplugins%2Ftoc.ts" tabindex="-1">src/plugins/toc.ts</h3>
<p>Custom lexer and parser for the TOC format:</p>
<ul>
<li><code>TocReader</code> - Character stream</li>
<li><code>TocLexer</code> - Tokenizer</li>
<li><code>TocParser</code> - AST builder</li>
<li><code>TocRender</code> - HTML generator</li>
</ul>
<h2 id="making-changes" tabindex="-1">Making Changes</h2>
<ol>
<li>Fork the repository</li>
<li>Create a feature branch</li>
<li>Make your changes</li>
<li>Test with the example site</li>
<li>Submit a pull request</li>
</ol>
<h2 id="testing" tabindex="-1">Testing</h2>
<p>Run the example site to test changes:</p>
<pre><code class="language-bash"># Development server
make serve-debug

# Build only
make build
</code></pre>
<h2 id="code-style" tabindex="-1">Code Style</h2>
<ul>
<li>TypeScript for all source files</li>
<li>Use template literals for HTML generation</li>
<li>Keep dependencies minimal</li>
<li>Prefer explicit over implicit</li>
</ul>
<h2 id="reporting-issues" tabindex="-1">Reporting Issues</h2>
<p>Open an issue on GitHub with:</p>
<ul>
<li>bok version</li>
<li>Bun version</li>
<li>Operating system</li>
<li>Steps to reproduce</li>
<li>Expected vs actual behavior</li>
</ul>

          </div>

          <div class="page-nav page-nav-next"></div>
        </div>

        <aside class="right-toc"><nav class="right-toc-nav">
    <h4 class="right-toc-title">On this page</h4>
    <ul class="right-toc-list"><li><a href="#development-setup">Development Setup</a></li><li><a href="#project-structure">Project Structure</a></li><li><a href="#key-files">Key Files</a></li><li class="right-toc-indent-1"><a href="#deps.ts">deps.ts</a></li><li class="right-toc-indent-1"><a href="#src%2Fcore%2Fbuild.ts">src/core/build.ts</a></li><li class="right-toc-indent-1"><a href="#src%2Fcore%2Fconfig.ts">src/core/config.ts</a></li><li class="right-toc-indent-1"><a href="#src%2Fplugins%2Ftoc.ts">src/plugins/toc.ts</a></li><li><a href="#making-changes">Making Changes</a></li><li><a href="#testing">Testing</a></li><li><a href="#code-style">Code Style</a></li><li><a href="#reporting-issues">Reporting Issues</a></li></ul></nav></aside>
      </div>
    </main>
  
        </div>

        <script defer src="/bok/assets/js/index.js"></script>
        <script defer src="/bok/assets/js/prism.min.js"></script>
      </body>
    </html>
  