
    <!DOCTYPE html>
    <html lang="en">
      <head>
        <meta charset="UTF-8" />
        <title>bok</title>
        <meta name="description" content="Build custom themes for your bok sites.">
        <link rel="canonical" href="https://github.com/alajmo/bok/themes/creating-themes/">
        <meta property="og:title" content="Creating Themes">
        <meta property="og:description" content="Build custom themes for your bok sites.">
        <meta property="og:url" content="https://github.com/alajmo/bok/themes/creating-themes/">
        <meta property="og:type" content="article">
        <meta property="og:site_name" content="bok">
        <meta name="twitter:card" content="summary_large_image">
        <meta name="twitter:title" content="Creating Themes">
        <meta name="twitter:description" content="Build custom themes for your bok sites.">

        <link rel="icon" href="/bok/assets/img/ico/favicon.ico" />
        <link rel="apple-touch-icon-precomposed" href="/bok/assets/img/ico/favicon.ico" />
        <meta name="msapplication-TileImage" content="/bok/assets/img/ico/favicon.ico" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />

        <link rel="stylesheet" type="text/css" href="/bok/assets/css/reset.css" />
        <link rel="stylesheet" type="text/css" href="/bok/assets/fonts/fonts.css" />
        <link rel="stylesheet" type="text/css" href="/bok/assets/css/style.css" />
        <style>::view-transition-old(root), ::view-transition-new(root) { animation: none; }</style>
      </head>

      <body data-root-url="/bok">
        <div class="book">
          
    <script type="text/javascript">
      const html = document.querySelector('html');
      const showSidebar = window.sessionStorage.getItem('showSidebar');
      if (showSidebar !== null) {
        html.setAttribute('data-show-sidebar', showSidebar);
      }

      const savedTheme = window.localStorage.getItem('theme');
      if (savedTheme) {
        html.setAttribute('data-theme', savedTheme);
      } else if (window.matchMedia('(prefers-color-scheme: dark)').matches) {
        html.setAttribute('data-theme', 'dark');
      }

      const focusMode = window.sessionStorage.getItem('focusMode');
      if (focusMode === 'true') {
        html.setAttribute('data-focus-mode', 'true');
      }
    </script>

    <aside id="sidebar" class="sidebar">
      <ol class="toc"><li class="part-title">bok</li><li><a class=""  href="/bok/">Introduction</a></li>
      <li class="chapter-item">
        <strong>1.</strong>
        &nbsp;
        <a class=""
           href="/bok/getting-started">Getting Started</a>
      </li>
    <li class="spacer"></li><li class="part-title">Reference</li>
      <li class="chapter-item">
        <strong>2.</strong>
        &nbsp;
        <a class=""
           href="/bok/usage/usage">CLI Commands</a>
      </li>
    
        <li>
          <ol class="section">
            
      <li class="chapter-item">
        <strong>2.1.</strong>
        &nbsp;
        <a class=""
           href="/bok/usage/init">init</a>
      </li>
    
      <li class="chapter-item">
        <strong>2.2.</strong>
        &nbsp;
        <a class=""
           href="/bok/usage/build">build</a>
      </li>
    
      <li class="chapter-item">
        <strong>2.3.</strong>
        &nbsp;
        <a class=""
           href="/bok/usage/watch">watch</a>
      </li>
    
      <li class="chapter-item">
        <strong>2.4.</strong>
        &nbsp;
        <a class=""
           href="/bok/usage/serve">serve</a>
      </li>
    
      <li class="chapter-item">
        <strong>2.5.</strong>
        &nbsp;
        <a class=""
           href="/bok/usage/clean">clean</a>
      </li>
    
          </ol>
        </li>
      
      <li class="chapter-item">
        <strong>3.</strong>
        &nbsp;
        <a class=""
           href="/bok/configuration/configuration">Configuration</a>
      </li>
    
        <li>
          <ol class="section">
            
      <li class="chapter-item">
        <strong>3.1.</strong>
        &nbsp;
        <a class=""
           href="/bok/configuration/site-config">Site Config</a>
      </li>
    
      <li class="chapter-item">
        <strong>3.2.</strong>
        &nbsp;
        <a class=""
           href="/bok/configuration/toc-format">TOC Format</a>
      </li>
    
      <li class="chapter-item">
        <strong>3.3.</strong>
        &nbsp;
        <a class=""
           href="/bok/configuration/front-matter">Front Matter</a>
      </li>
    
          </ol>
        </li>
      
      <li class="chapter-item">
        <strong>4.</strong>
        &nbsp;
        <a class=""
           href="/bok/themes/themes">Themes</a>
      </li>
    
        <li>
          <ol class="section">
            
      <li class="chapter-item">
        <strong>4.1.</strong>
        &nbsp;
        <a class=""
           href="/bok/themes/book-theme">Book Theme</a>
      </li>
    
      <li class="chapter-item">
        <strong>4.2.</strong>
        &nbsp;
        <a class="active"
           href="/bok/themes/creating-themes">Creating Themes</a>
      </li>
    
          </ol>
        </li>
      <li class="spacer"></li><li class="part-title">Development</li>
      <li class="chapter-item">
        <strong>5.</strong>
        &nbsp;
        <a class=""
           href="/bok/contributing">Contributing</a>
      </li>
    </ol>
      <div class="sidebar-resize-handle"></div>
    </aside>

    <main id="content" class="content">
      <div class="menu">
        <div class="menu-left">
          <button title="Toggle sidebar"
                  type="button"
                  class="icon-button"
                  onclick="sidebar.toggle();">
            <img
              class="menu-icon"
              src="/bok/assets/img/svg/menu.svg"
              alt="menu"
              width="auto"
              height="20"
            />
          </button>
        </div>

        
        <div class="menu-center">
          <button type="button" class="menu-title" onclick="scrollToTop();">bok</button>
        </div>
        

        <div class="menu-right">
          <button title="Search (Cmd+K)" type="button" class="icon-button" onclick="openSearch();">
            <svg class="menu-icon" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <circle cx="11" cy="11" r="8"/>
              <path d="M21 21l-4.35-4.35"/>
            </svg>
          </button>
          <button title="Toggle theme" type="button" class="icon-button theme-toggle" onclick="toggleTheme();">
            <svg class="menu-icon theme-icon-light" width="20" height="20" viewBox="0 0 24 24" fill="currentColor">
              <path d="M12 3a1 1 0 0 1 1 1v1a1 1 0 1 1-2 0V4a1 1 0 0 1 1-1zm0 15a1 1 0 0 1 1 1v1a1 1 0 1 1-2 0v-1a1 1 0 0 1 1-1zm9-6a1 1 0 0 1-1 1h-1a1 1 0 1 1 0-2h1a1 1 0 0 1 1 1zM5 12a1 1 0 0 1-1 1H3a1 1 0 1 1 0-2h1a1 1 0 0 1 1 1zm14.07-5.66a1 1 0 0 1 0 1.41l-.71.71a1 1 0 1 1-1.41-1.41l.71-.71a1 1 0 0 1 1.41 0zM7.05 17.66a1 1 0 0 1 0 1.41l-.71.71a1 1 0 1 1-1.41-1.41l.71-.71a1 1 0 0 1 1.41 0zm11.9 1.41a1 1 0 0 1-1.41 0l-.71-.71a1 1 0 1 1 1.41-1.41l.71.71a1 1 0 0 1 0 1.41zM7.05 6.34a1 1 0 0 1-1.41 0l-.71-.71a1 1 0 0 1 1.41-1.41l.71.71a1 1 0 0 1 0 1.41zM12 8a4 4 0 1 0 0 8 4 4 0 0 0 0-8z"/>
            </svg>
            <svg class="menu-icon theme-icon-dark" width="20" height="20" viewBox="0 0 24 24" fill="currentColor">
              <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"/>
            </svg>
          </button>
          <button title="Toggle focus mode" type="button" class="icon-button focus-toggle" onclick="toggleFocusMode();">
            <svg class="menu-icon" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <circle cx="12" cy="12" r="3"/>
              <path d="M12 5c-7 0-10 7-10 7s3 7 10 7 10-7 10-7-3-7-10-7z"/>
            </svg>
          </button>
          <a href="/bok/print.html" title="Print all pages" class="icon-button">
            <svg class="menu-icon" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <path d="M6 9V2h12v7M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2M6 14h12v8H6z"/>
            </svg>
          </a>
          
          <a href="https://github.com/alajmo/bok" target="_blank" rel="noopener noreferrer" title="GitHub" class="icon-button">
            <svg class="menu-icon" width="20" height="20" viewBox="0 0 24 24" fill="currentColor">
              <path d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"/>
            </svg>
          </a>
          
        </div>
      </div>

      <div class="page-wrapper">
        <div class="page">
          
    <a href="/bok/themes/book-theme" id="page-nav-prev" class="page-nav page-nav-prev">
      <svg class="page-nav-icon" fill="none" viewBox="0 0 24 24" height="40" width="40" xmlns="http://www.w3.org/2000/svg">
        <path d="M14.7071 5.29289C15.0976 5.68342 15.0976 6.31658 14.7071 6.70711L9.41421 12L14.7071 17.2929C15.0976 17.6834 15.0976 18.3166 14.7071 18.7071C14.3166 19.0976 13.6834 19.0976 13.2929 18.7071L7.29289 12.7071C6.90237 12.3166 6.90237 11.6834 7.29289 11.2929L13.2929 5.29289C13.6834 4.90237 14.3166 4.90237 14.7071 5.29289Z" fill="currentColor"></path>
      </svg>
    </a>
  

          <div class="page-content">
            <h1 id="creating-themes" tabindex="-1">Creating Themes</h1>
<p>Build custom themes for your bok sites.</p>
<h2 id="theme-structure" tabindex="-1">Theme Structure</h2>
<pre><code>my-theme/
├── config.ts       # Required: theme configuration
├── layout/         # Required: template files
│   └── index.ts    # Required: default layout
├── assets/         # Optional: static files
└── content/        # Optional: example content
</code></pre>
<h2 id="theme-config" tabindex="-1">Theme Config</h2>
<p>Create <code>config.ts</code>:</p>
<pre><code class="language-typescript">export default {
  name: &quot;my-theme&quot;,

  // File discovery mode
  files: {
    type: &quot;walk&quot;,  // or &quot;toc&quot;, &quot;glob&quot;
  },

  // Path defaults (relative to this file)
  paths: {
    assets: &quot;assets&quot;,
    layout: &quot;layout&quot;,
    defaultLayout: &quot;index.ts&quot;,
  },

  // Dev server defaults
  serve: {
    reload: true,
    port: 5000,
    wsPort: 5001,
  },

  // Lifecycle hooks
  hooks: {
    async beforeSite(site, pages, opts) {},
    async afterSite(site, pages, opts) {},
    async beforePage(site, page, i, pages, opts) {},
    async afterPage(site, page, i, pages, opts) {},
  },

  // Default params (users can override)
  params: {
    title: &quot;My Theme&quot;,
  },
};
</code></pre>
<h2 id="layout-templates" tabindex="-1">Layout Templates</h2>
<p>Layouts are TypeScript files that export a function:</p>
<pre><code class="language-typescript">// layout/index.ts
export default function(site, page, pages) {
  return `
    &lt;!DOCTYPE html&gt;
    &lt;html&gt;
      &lt;head&gt;
        &lt;title&gt;${page.params.title || site.params.title}&lt;/title&gt;
        &lt;link rel=&quot;stylesheet&quot; href=&quot;${site.rootUrl}/assets/css/style.css&quot;&gt;
      &lt;/head&gt;
      &lt;body&gt;
        &lt;main&gt;
          ${page.htmlContent}
        &lt;/main&gt;
      &lt;/body&gt;
    &lt;/html&gt;
  `;
}
</code></pre>
<h3 id="template-parameters" tabindex="-1">Template Parameters</h3>
<h4 id="site" tabindex="-1">site</h4>
<p>The site configuration object:</p>
<pre><code class="language-typescript">site.rootUrl      // URL prefix
site.params       // Site params from config
site.paths        // Directory paths
site.uglyURLs     // URL style boolean
</code></pre>
<h4 id="page" tabindex="-1">page</h4>
<p>The current page being rendered:</p>
<pre><code class="language-typescript">page.name         // Filename
page.path         // Full file path
page.link         // URL path (e.g., &quot;/getting-started&quot;)
page.params       // Front matter data
page.htmlContent  // Rendered markdown HTML
page.tokens       // markdown-it AST tokens
page.toc          // Left sidebar HTML (if using TOC mode)
page.rightToc     // Right-side TOC HTML
page.prevPage     // Previous page URL
page.nextPage     // Next page URL
</code></pre>
<h4 id="pages" tabindex="-1">pages</h4>
<p>Array of all pages in the site.</p>
<h2 id="composable-templates" tabindex="-1">Composable Templates</h2>
<p>Split templates into reusable parts:</p>
<pre><code class="language-typescript">// layout/base.ts
export default function({ title, rootUrl }, content) {
  return `
    &lt;!DOCTYPE html&gt;
    &lt;html&gt;
      &lt;head&gt;
        &lt;title&gt;${title}&lt;/title&gt;
        &lt;link rel=&quot;stylesheet&quot; href=&quot;${rootUrl}/assets/css/style.css&quot;&gt;
      &lt;/head&gt;
      &lt;body&gt;
        ${content}
      &lt;/body&gt;
    &lt;/html&gt;
  `;
}

// layout/index.ts
import base from &quot;./base.ts&quot;;

export default function(site, page, pages) {
  return base(
    { title: page.params.title, rootUrl: site.rootUrl },
    `&lt;main&gt;${page.htmlContent}&lt;/main&gt;`
  );
}
</code></pre>
<h2 id="assets" tabindex="-1">Assets</h2>
<p>Place static files in <code>assets/</code>:</p>
<pre><code>assets/
├── css/
│   └── style.css
├── js/
│   └── main.js
├── img/
│   └── logo.svg
└── fonts/
    └── ...
</code></pre>
<p>Reference in templates:</p>
<pre><code class="language-typescript">`&lt;link rel=&quot;stylesheet&quot; href=&quot;${site.rootUrl}/assets/css/style.css&quot;&gt;`
`&lt;script src=&quot;${site.rootUrl}/assets/js/main.js&quot;&gt;&lt;/script&gt;`
</code></pre>
<h2 id="hooks" tabindex="-1">Hooks</h2>
<p>Use hooks for advanced processing:</p>
<pre><code class="language-typescript">hooks: {
  // Generate sitemap after build
  async afterSite(site, pages, opts) {
    const sitemap = pages
      .map(p =&gt; `&lt;url&gt;&lt;loc&gt;https://example.com${p.link}&lt;/loc&gt;&lt;/url&gt;`)
      .join(&quot;\n&quot;);

    await Bun.write(
      `${site.paths.output}/sitemap.xml`,
      `&lt;?xml version=&quot;1.0&quot;?&gt;&lt;urlset&gt;${sitemap}&lt;/urlset&gt;`
    );
  },

  // Add build timestamp to each page
  async beforePage(site, page, i, pages, opts) {
    page.params.buildTime = new Date().toISOString();
  },
}
</code></pre>
<h2 id="using-your-theme" tabindex="-1">Using Your Theme</h2>
<p>Reference by path:</p>
<pre><code class="language-typescript">export default {
  extends: &quot;/path/to/my-theme/config.ts&quot;,
  params: {
    title: &quot;My Site&quot;,
  },
};
</code></pre>
<p>Or initialize with it:</p>
<pre><code class="language-bash">bok init --mode extend --theme path --theme-path /path/to/my-theme/config.ts
</code></pre>

          </div>

          
    <a href="/bok/contributing" id="page-nav-next" class="page-nav page-nav-next">
      <svg class="page-nav-icon" fill="none" viewBox="0 0 24 24" height="40" width="40" xmlns="http://www.w3.org/2000/svg">
        <path d="M9.29289 18.7071C8.90237 18.3166 8.90237 17.6834 9.29289 17.2929L14.5858 12L9.29289 6.70711C8.90237 6.31658 8.90237 5.68342 9.29289 5.29289C9.68342 4.90237 10.3166 4.90237 10.7071 5.29289L16.7071 11.2929C17.0976 11.6834 17.0976 12.3166 16.7071 12.7071L10.7071 18.7071C10.3166 19.0976 9.68342 19.0976 9.29289 18.7071Z" fill="currentColor"></path>
      </svg>
    </a>
  
        </div>

        <aside class="right-toc"><nav class="right-toc-nav">
    <h4 class="right-toc-title">On this page</h4>
    <ul class="right-toc-list"><li><a href="#theme-structure">Theme Structure</a></li><li><a href="#theme-config">Theme Config</a></li><li><a href="#layout-templates">Layout Templates</a></li><li class="right-toc-indent-1"><a href="#template-parameters">Template Parameters</a></li><li><a href="#composable-templates">Composable Templates</a></li><li><a href="#assets">Assets</a></li><li><a href="#hooks">Hooks</a></li><li><a href="#using-your-theme">Using Your Theme</a></li></ul></nav></aside>
      </div>
    </main>
  
        </div>

        <div id="search-modal" class="search-modal hidden">
          <div class="search-backdrop" onclick="closeSearch();"></div>
          <div class="search-dialog">
            <div class="search-input-wrapper">
              <svg class="search-input-icon" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <circle cx="11" cy="11" r="8"/>
                <path d="M21 21l-4.35-4.35"/>
              </svg>
              <input type="text" id="search-input" class="search-input" placeholder="Search..." autocomplete="off" />
            </div>
            <div id="search-results" class="search-results"></div>
            <div class="search-footer">
              <span class="search-hint"><kbd>↑</kbd><kbd>↓</kbd> navigate</span>
              <span class="search-hint"><kbd>Enter</kbd> select</span>
              <span class="search-hint"><kbd>Esc</kbd> close</span>
            </div>
          </div>
        </div>

        <script defer src="/bok/assets/js/index.js"></script>
        <script defer src="/bok/assets/js/prism.min.js"></script>
      </body>
    </html>
  